{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\erdos\\\\Desktop\\\\Web Dev\\\\React\\\\Net Ninja React\\\\dojo-blog\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport { useEffect, useState } from \"react\";\n\n// custom hooks must start with \"use\"\nvar useFetch = function useFetch(url) {\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isPending = _useState4[0],\n    setIsPending = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    error = _useState6[0],\n    setError = _useState6[1]; //useEffect is useful for running code that needs to run every single render\n  //(can be used for things like fetching data)\n  //the empty array ( [] ) makes it so it only runs the first initial render\n  //adding a dependency within the array makes it so it looks for only that state changing to run the function\n  useEffect(function () {\n    fetch(url).then(function (res) {\n      if (!res.ok) {\n        throw Error('Could not fetch data for the requested resource');\n      }\n      return res.json();\n    }).then(function (data) {\n      setData(data);\n      setIsPending(false);\n      setError(null);\n    }).catch(function (err) {\n      setIsPending(false);\n      setError(err.message);\n    });\n  }, [url]);\n  //whenver url changes it will re run the function to get the data for the endpoint\n\n  return {\n    data: data,\n    isPending: isPending,\n    error: error\n  };\n};\nexport default useFetch;","map":{"version":3,"names":["useEffect","useState","useFetch","url","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","isPending","setIsPending","_useState5","_useState6","error","setError","fetch","then","res","ok","Error","json","catch","err","message"],"sources":["C:/Users/erdos/Desktop/Web Dev/React/Net Ninja React/dojo-blog/src/useFetch.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\n// custom hooks must start with \"use\"\r\nconst useFetch = (url) =>\r\n{\r\n    const [data, setData] = useState(null);\r\n    const [isPending, setIsPending] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n\r\n      //useEffect is useful for running code that needs to run every single render\r\n    //(can be used for things like fetching data)\r\n    //the empty array ( [] ) makes it so it only runs the first initial render\r\n    //adding a dependency within the array makes it so it looks for only that state changing to run the function\r\n\r\n    useEffect(() => \r\n    {\r\n        fetch(url)\r\n        .then(res => {\r\n            if(!res.ok)\r\n            {\r\n                throw Error('Could not fetch data for the requested resource');\r\n            }\r\n            return res.json();\r\n        })\r\n        .then((data) => {\r\n            setData(data);\r\n            setIsPending(false);\r\n            setError(null);\r\n        })\r\n        .catch(err => \r\n        {\r\n            setIsPending(false);\r\n            setError(err.message);\r\n        })\r\n    }, [url]);\r\n    //whenver url changes it will re run the function to get the data for the endpoint\r\n\r\n    return {data, isPending, error};\r\n}\r\n\r\nexport default useFetch;"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;;AAE3C;AACA,IAAMC,QAAQ,GAAG,SAAXA,QAAQA,CAAIC,GAAG,EACrB;EAAA,IAAAC,SAAA,GAC4BH,QAAQ,CAAC,IAAI,CAAC;IAAAI,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA/BG,IAAI,GAAAF,UAAA;IAAEG,OAAO,GAAAH,UAAA;EAAA,IAAAI,UAAA,GACcR,QAAQ,CAAC,IAAI,CAAC;IAAAS,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAzCE,SAAS,GAAAD,UAAA;IAAEE,YAAY,GAAAF,UAAA;EAAA,IAAAG,UAAA,GACJZ,QAAQ,CAAC,IAAI,CAAC;IAAAa,UAAA,GAAAR,cAAA,CAAAO,UAAA;IAAjCE,KAAK,GAAAD,UAAA;IAAEE,QAAQ,GAAAF,UAAA,KAGpB;EACF;EACA;EACA;EAEAd,SAAS,CAAC,YACV;IACIiB,KAAK,CAACd,GAAG,CAAC,CACTe,IAAI,CAAC,UAAAC,GAAG,EAAI;MACT,IAAG,CAACA,GAAG,CAACC,EAAE,EACV;QACI,MAAMC,KAAK,CAAC,iDAAiD,CAAC;MAClE;MACA,OAAOF,GAAG,CAACG,IAAI,CAAC,CAAC;IACrB,CAAC,CAAC,CACDJ,IAAI,CAAC,UAACX,IAAI,EAAK;MACZC,OAAO,CAACD,IAAI,CAAC;MACbK,YAAY,CAAC,KAAK,CAAC;MACnBI,QAAQ,CAAC,IAAI,CAAC;IAClB,CAAC,CAAC,CACDO,KAAK,CAAC,UAAAC,GAAG,EACV;MACIZ,YAAY,CAAC,KAAK,CAAC;MACnBI,QAAQ,CAACQ,GAAG,CAACC,OAAO,CAAC;IACzB,CAAC,CAAC;EACN,CAAC,EAAE,CAACtB,GAAG,CAAC,CAAC;EACT;;EAEA,OAAO;IAACI,IAAI,EAAJA,IAAI;IAAEI,SAAS,EAATA,SAAS;IAAEI,KAAK,EAALA;EAAK,CAAC;AACnC,CAAC;AAED,eAAeb,QAAQ"},"metadata":{},"sourceType":"module"}